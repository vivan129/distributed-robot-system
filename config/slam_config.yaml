# ============================================================
# DISTRIBUTED ROBOT SYSTEM - SLAM CONFIGURATION
# ============================================================

# Map Configuration
map:
  resolution: 0.05            # meters per pixel (5cm)
  width: 2000                 # pixels (100m at 0.05 resolution)
  height: 2000                # pixels
  origin: [1000, 1000]        # Starting position (center)
  unknown_value: 128          # Gray (0=free, 255=occupied, 128=unknown)
  free_threshold: 0.196       # Probability threshold for free
  occupied_threshold: 0.65    # Probability threshold for occupied

# LiDAR Processing
lidar:
  range_min: 0.15             # meters (15cm)
  range_max: 12.0             # meters
  angle_min: 0                # degrees
  angle_max: 360              # degrees
  angle_increment: 1.0        # degrees
  scan_decimation: 2          # Process every Nth point (reduce computation)
  outlier_filter:
    enabled: true
    window_size: 5            # Moving window for outlier detection
    threshold: 0.1            # Meters - max deviation from median

# Grid Mapping Algorithm
grid_mapping:
  algorithm: "log_odds"       # "log_odds" or "counting"
  update_rate: 10             # Hz - how often to update map
  hit_probability: 0.7        # P(occupied | hit)
  miss_probability: 0.3       # P(occupied | miss)
  log_odds_hit: 0.85          # Log odds for hit
  log_odds_miss: -0.4         # Log odds for miss
  max_log_odds: 3.5           # Clamp maximum
  min_log_odds: -3.5          # Clamp minimum
  
# Localization (Particle Filter)
localization:
  enabled: true
  num_particles: 100          # Number of particles
  resample_threshold: 0.5     # Effective particle ratio
  initial_pose:
    x: 0.0                    # meters
    y: 0.0                    # meters
    theta: 0.0                # radians
  uncertainty:
    x: 0.5                    # meters
    y: 0.5                    # meters
    theta: 0.3                # radians

# Motion Model (for odometry)
motion_model:
  alpha1: 0.2                 # Rotation noise from rotation
  alpha2: 0.2                 # Rotation noise from translation
  alpha3: 0.2                 # Translation noise from translation
  alpha4: 0.2                 # Translation noise from rotation

# Sensor Model (LiDAR)
sensor_model:
  z_hit: 0.95                 # Weight for correct range
  z_short: 0.01               # Weight for short range (obstacles)
  z_max: 0.01                 # Weight for max range
  z_rand: 0.03                # Weight for random noise
  sigma_hit: 0.1              # Standard deviation for hit
  lambda_short: 0.1           # Decay parameter for short readings

# Path Planning
path_planning:
  algorithm: "a_star"         # "a_star" or "rrt"
  goal_tolerance: 0.2         # meters
  max_iterations: 1000
  step_size: 0.1              # meters (for RRT)
  goal_bias: 0.1              # Probability of sampling goal

# Visualization
visualization:
  enabled: true
  update_rate: 2              # Hz
  show_particles: true
  show_scan: true
  show_path: true
  colormap: "gray"            # "gray", "jet", "viridis"
  
# Performance
performance:
  async_updates: true
  thread_count: 2
  max_queue_size: 10          # Max queued scans
  
# Saving/Loading
persistence:
  auto_save: true
  save_interval: 300          # seconds (5 minutes)
  map_format: "pgm"           # "pgm" or "png"
  save_directory: "maps"
  metadata_format: "yaml"     # Save map metadata
